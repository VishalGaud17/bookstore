{% extends 'base.html' %}
{% load static %}

{% block content %}
<!-- {% if user.is_authenticated %}
  <div class="alert alert-info text-center">
    Logged in as <strong>{{ user.username }}</strong>
  </div>
{% else %}
  <div class="alert alert-warning text-center">
    You are not logged in.
  </div>
{% endif %} -->

<div class="container mt-3">
  <div class="row">
    {% for book in books %}
      <div class="col-md-4 mb-4 d-flex">
        <div class="card h-100 w-100">
          <div class="bg-image hover-overlay">
            {% if book.cover_image %}
              <img src="{{ book.cover_image.url }}" alt="{{ book.title }}" class="img-fluid">
            {% else %}
              <img src="{% static 'images/default-book.jpg' %}" alt="No image" class="img-fluid">
            {% endif %}
          </div>
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">{{ book.title }}</h5>
            <p class="card-text">{{ book.author }}</p>
            <a href="{{ book.get_absolute_url }}" class="btn btn-primary mt-auto">Buy â‚¹{{ book.price }}</a>
          </div>
        </div>
      </div>
    {% empty %}
      <p class="text-center">No books available.</p>
    {% endfor %}
  </div>
</div>
{% endblock %}
